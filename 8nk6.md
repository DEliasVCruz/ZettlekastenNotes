# cli.gcc

The GNU c compiler

## Synopsis

```sh
gcc [<flags>] [<output executable|object>] <program>.c
```

## Overview

### Options

- `-Wall`: show all warnings
- `-Wextra`: show extra (possibly unwanted) warnings
- `-O`: Enable compiler optimizations (from `0` to `3`)
- `-g`: Make a build for debuging
- `-ggdb`: Produce debuging information for use by [gdb](./1nja.md) 
- `-o`: Specify the output object|executable

## Cookbook

### Get the compiler to display all warnings

You can force the compiler to show you all it's `warnings` by
default, this are issues that the compiler can point out
that while they wont' prevent the code from compiling, they
can cause bugs in your program

```sh
gcc -Wall hello.c
```

You can also use the `-Wextra` flag to print even more warnings
that might not always be desireable

```sh
gcc -Wall -Wextra hello.c
```

### Make a build of your programm that is debuggable

By adding the `-g` option it makes the output debuggable by
also adding token that can relate the executable to the
original source code

This token infomration is created in the underlying
operationg system native format and `gdb` can work with
this debuggin information

> However this information can be used by any other
> debugging tool other tha `gdb`

Since optimizations may severly change the original code
it is recommended that it's left at the lowest level with
the option `-O0`

```sh
gcc -O0 -g -o hello hello.c
```

If you are working directly with `gdb` you can use the flag
`-ggdb` to produce information especifically for use with 
`gdb`. This will use the most expressive format available
in your system, including `gdb` extensions if possible

```sh
gcc -O0 -ggdb -o hello hello.c
```

### Use a different `c` standard

The default standard for `gcc` is `gnu11` which is `C11`, you
can change it to use other past or newer standars of `c` (like
`C99` or `C2.x`) by ussing the `-std` option

```sh
gcc -std=c99 -O0 -o hello hello.c
```

### Create a dependency output file

You can have a [make](./tbym.md) rule of dependecies for your object build
output to a `.d` dependency file and generated by `gcc` with the `MMD` 
and `MF` flags

- `MMD`: It will create a `.d` dependency file
  - Its similar to `MD`, but it mentions only user header files not
    system headers
  - Its similar to `M` but it can be used to generate a dependecy
    file as a side effect of the compilation process

- `MF`: When used along side `MMD` it allows you to override the
  default dependency file with the specified one

```sh
# Assuming main.h depends on main.h
gcc -c main.c -MMD -MF main.d

cat main.d
# main.o: main.c main.h
```
