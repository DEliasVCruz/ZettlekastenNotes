# lang.py.module.pandas.dataframe

A dataframe is the basic data type object with which pandas work with

## Synopsis

```py
  import pandas as pd

  data = <data>
  df = pd.DataFrame(data, [<extra-arguments>])
```

## Overview

The basic way to create a data frame in [pandas](./czyt.md) is with the `DataFrame()`
[class](./unhs.md). It can accept raw structured data and define their fields
separately or accept data that is already structured with fields

The **common** way to **name** a **dataframe** is `df`

## Cookbook

### Create a dataframe from a dictionary

You can create a **dataframe** from a [dictionary](./0loj.md) object. Here **each
key** in the dictionar **represents** a **series**

```py
  import pandas as pd

  hours = [6, 2, 3]
  days = [2, 5, 6]

  data = {'Hours': hours , 'Days': days }
  df_dictionary = pd.Dataframe(data)
```

### Create a dataframe from a list or numpy array

You can create a **dataframe** from a [list](./7cx0.md) or a [numpy](./5nfr.md) array.

The **advantage** of a **numpy array** is that **if you change** the **values
of** your **array** it will **utomatically** be **changed** in your
**dataframe** without having to re assing the data to a new dataframe

```py
  import pandas as pd
  import numpy as np

  data = [[8,2], [2,5], [3,6]]
  np_data = np.array(data)

  df_numpy = pd.DataFrame(np_data)
  df_list = pd.Dataframe(data)

  np_data[0, 0] = 9
  print(df_numpy)       # The data in the dataframe has changed accordingly
```

### Create a dataframe from a CSV file

You can create a dataframe from a [csv](./rlaw.md) file with the `read_csv()`
function.

**If** your csv file has the **first column** as the **index labels** then you
can **indicate** it **with** the `index_col=0` argument

```py
  df_csv = pd.read_csv("<csv_file.csv>", index_col=0)
```

### Create a datraframe from an excel file

You can create a dataframe from an `excel` file with the `read_excel()` function

```py
  df_csv = pd.read_excel("<excel_file.xlsx>")
```

### Create a dataframe from a sql query

### Create a dataframe and define index separately

When you create a dataframe, by default it **will assign indices** to each row from
**0 to the last row**. You can **customize the indices** of those rows with the
`index=` argument in the object instantiation

```py
  data = [[8,2], [2,5], [3,6]]
  df = pd.DataFrame(data=data, index=["row1", "row2", "row3"])
```

### Create a dataframe and define fields separately

You can **create** a dataframe **from data** that has **no** mention of the
**field names**. You can define them separately **with** the `field=` argument
in the object instantiation

**It will also define the order of the filds in your dataframe**, even if the
data has the fields in a different order

```py
  data = [[8,2], [2,5], [3,6]]
  df = pd.DataFrame(data, columns=["Hours", "Days"])
```

### Round the decimal points of decimal values

**If** you **have decimal values** in your dataframe you can **round them all**
up **without affecting** any **other data**

```py
  df_rounded = round(df, 2)     # Round decimal values to 2 points
  df_rounded = df.round(2)      # Round decimal values to 2 points
```

If you **don't** want to **round** the number, but **just change the displayed precision**
you can use the `set_option()` function

```py
  df.set_option('display.precision', 2)
```

### Add a new column to a dataframe

You can **add a new field** to your dataframe by referencing a column that does not
exist and:

- **Assign** it a **value**: Give every field the same value
- **Assign** it an **array**: Give each corresponding row the element from the array

This **will append the new column** at the end of the dataframe.

```py
  import numpy as np

  language_score = np.random.randint(1, 101, size=1000)
  df_exams['Language Scores'] = language_score
```

### Add a new column at an arbitray position

If you want to **insert** the **column** at an **arbitrary location** you can
use the `insert()` method.

- It **will perform mutation** on the original dataframe

It's **arguments** are:

- `loc`: The **zero-based index position**, without counting the index column, to
  insert at
  - Will **displace** every **other columns** from that index onwards **to the right**
- `column`: **Name** of the new column
- `value`: The **values** corresponding to the new column

```py
  df.insert(loc=4, column='django-score',
            value=np.array([86.0, 81.0, 78.0, 88.0, 74.0, 70.0, 81.0]))
```

### Delete one or more columns

You can delete one or more columns from your dataframe **with**:

- `del`: The [statement](./4g9v.md) **mutates** the orignal **dataframe**
- `pop()`: Works **similar to** the `pop()` method in lists. **Mutates** the dataframe
- `drop()`: It **does not perform mutation** and returns a new dataframe
  - **To work with columns** you pass the `axis=1` argument

The **difference** being that `pop()` will also **return** the **removed columns**

```py
  del df[['py-score', 'django-score']]
  removed_column = df.pop()
  df = df.drop(labels=['age', 'city'], axis=1)
```

### Rename a dataframe column

To **rename a dataframe column** you can use the `rename` method and pass it
the `columns` argument which **accepts** a [dictionary](./0loj.md) with the
**original name** as the **key** and the **new name** as the **value**

This **returns a new dataframe**, it **does not performe mutation** on the
original dataframe. If you want it **to mutate** the original **use** the
`inplace=True` argument

In this **example** we are renaming a column from the [integer](./x4ok.md) 2020 to
the [string](./4t3v.md) 2020. Since you should **avoid having numbers in
columns**

```py
  df.rename(columns={2020: "2020"}, inplace=True)
```

### Export a dataframe to other format

You can **export** your dataframe **to different formats**. Some of the
supported formats are:

- `to_excell`: Export your dataframe as an `excell` spreadsheet
- `to_csv`: Export your dataframe as a `csv` file
- `to_numpy`: Export your dataframe as a `numpy` array without the labels

```py
  df.to_excel('excel_table.xlsx')
  df.to_csv('excel_table.csv')
```
